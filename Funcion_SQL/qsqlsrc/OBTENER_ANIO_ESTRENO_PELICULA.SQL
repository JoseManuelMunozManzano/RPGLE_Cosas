CREATE OR REPLACE FUNCTION JOMUMA1.OBTENER_ANIO_ESTRENO_PELICULA (
	IN_NOMBRE 	VARCHAR(150)
) RETURNS DECIMAL(4, 0)  	
	LANGUAGE SQL 
	SPECIFIC OBTANIOES 
	DETERMINISTIC 
	READS SQL DATA 
	CALLED ON NULL INPUT 
	NO EXTERNAL ACTION 
	NOT FENCED 
	CONCURRENT ACCESS RESOLUTION USE CURRENTLY COMMITTED 
	SET OPTION  ALWBLK = *ALLREAD, 
	ALWCPYDTA = *OPTIMIZE, 
	COMMIT = *NONE, 
	DBGVIEW = *SOURCE, 
	DECRESULT =(31, 31, 00), 
	DFTRDBCOL = *NONE, 
	DYNDFTCOL = *YES, 
	DYNUSRPRF = *OWNER, 
	SRTSEQ = *HEX, 
	USRPRF = *OWNER   
OBTANIOES : BEGIN 
	 -- VARIABLES GENERALES DE ERROR 
	DECLARE SQLCODE					INTEGER			NOT NULL		DEFAULT 0; 
	DECLARE SQLSTATE				CHAR(5)			NOT NULL		DEFAULT '00000'; 

	RETURN (
    SELECT ANIO
    FROM JOMUMA1.PELICULAS
    WHERE NOMBRE = IN_NOMBRE
  );

END OBTANIOES; 

LABEL ON SPECIFIC FUNCTION JOMUMA1.OBTANIOES IS 'OBTENER AÃ‘O ESTRENO PELICULA';
